/* Copyright (c) 2016 The Linux Foundation. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

/*
 * As a general rule, only version-specific property overrides should be placed
 * inside this file. Common device definitions should be placed inside the
 * msmcobalt.dtsi file.
 */

#include "msmcobalt.dtsi"

/ {
	model = "Qualcomm Technologies, Inc. MSMCOBALT v2";
	qcom,msm-id = <292 0x20000>;
};

&clock_gcc {
	compatible = "qcom,gcc-cobalt-v2";
};

&clock_mmss {
	compatible = "qcom,mmsscc-cobalt-v2";
};

&clock_gpu {
	compatible = "qcom,gpucc-cobalt-v2";
};

&clock_gfx {
	compatible = "qcom,gfxcc-cobalt-v2";
	qcom,gfxfreq-speedbin0 =
		<         0 0                           0 >,
		< 189000000 1 RPM_SMD_REGULATOR_LEVEL_SVS >,
		< 264000000 2 RPM_SMD_REGULATOR_LEVEL_SVS >,
		< 342000000 3 RPM_SMD_REGULATOR_LEVEL_SVS >,
		< 414000000 4 RPM_SMD_REGULATOR_LEVEL_SVS >,
		< 520000000 5 RPM_SMD_REGULATOR_LEVEL_NOM >,
		< 596000000 6 RPM_SMD_REGULATOR_LEVEL_NOM >,
		< 670000000 7 RPM_SMD_REGULATOR_LEVEL_TURBO >,
		< 710000000 8 RPM_SMD_REGULATOR_LEVEL_TURBO >;
	qcom,gfxfreq-mx-speedbin0 =
		<         0                           0 >,
		< 189000000 RPM_SMD_REGULATOR_LEVEL_SVS >,
		< 264000000 RPM_SMD_REGULATOR_LEVEL_SVS >,
		< 342000000 RPM_SMD_REGULATOR_LEVEL_SVS >,
		< 414000000 RPM_SMD_REGULATOR_LEVEL_SVS >,
		< 520000000 RPM_SMD_REGULATOR_LEVEL_NOM >,
		< 596000000 RPM_SMD_REGULATOR_LEVEL_NOM >,
		< 670000000 RPM_SMD_REGULATOR_LEVEL_TURBO >,
		< 710000000 RPM_SMD_REGULATOR_LEVEL_TURBO >;
};

&mdss_mdp {
	qcom,vbif-settings = <0x00d0 0x00002020>;
	qcom,max-bandwidth-low-kbps = <9400000>;
	qcom,max-bandwidth-high-kbps = <9400000>;
	qcom,max-bandwidth-per-pipe-kbps = <4700000>;
};

&apc0_cpr {
	compatible = "qcom,cprh-msmcobalt-v2-kbss-regulator";
};

&apc0_pwrcl_vreg {
	regulator-max-microvolt = <23>;
	qcom,cpr-corners = <22>;
	qcom,cpr-corner-fmax-map = <8 11 18 22>;

	qcom,cpr-voltage-ceiling =
		<688000  688000  688000  688000  688000
		 688000  688000  688000  756000  756000
		 756000  828000  828000  828000  828000
		 828000  828000  828000  952000  952000
		1024000 1024000>;

	qcom,cpr-voltage-floor =
		<568000  568000  568000  568000  568000
		 568000  568000  568000  568000  568000
		 568000  632000  632000  632000  632000
		 632000  632000  632000  712000  712000
		 756000  756000>;

	qcom,cpr-floor-to-ceiling-max-range =
		<55000  55000  55000  55000
		 55000  55000  55000  55000
		 55000  55000  55000  65000
		 65000  65000  65000  65000
		 65000  65000  65000  65000
		 65000  65000>;

	qcom,corner-frequencies =
		<300000000  364800000  441600000
		 518400000  595200000  672000000
		 748800000  825600000  883200000
		 960000000 1036800000 1094400000
		1171200000 1248000000 1324800000
		1401600000 1478400000 1555200000
		1670400000 1747200000 1824000000
		1900800000>;

	qcom,cpr-ro-scaling-factor =
		<4001 4019 3747 3758 3564 3480 2336
		 2247 3442 3147 2136 4156 4028 3030
		 3727 3198>,
		<4001 4019 3747 3758 3564 3480 2336
		 2247 3442 3147 2136 4156 4028 3030
		 3727 3198>,
		<3704 3601 3465 3567 3356 3473 2686
		 2773 3049 2932 2235 3816 3800 3097
		 2966 2808>,
		<2974 3092 3288 3329 2905 3096 3119
		 3225 2865 3140 2892 3592 3408 3576
		 1559 1392>;

	qcom,cpr-open-loop-voltage-fuse-adjustment =
		<40000 24000 0 0>,
		<40000 24000 0 0>,
		<40000 24000 0 0>,
		<40000 24000 0 0>,
		<40000 24000 0 0>,
		<40000 24000 0 0>,
		<40000 24000 0 0>,
		<40000 24000 0 0>;

	qcom,cpr-closed-loop-voltage-fuse-adjustment =
		<20000 26000 0 0>,
		<20000 26000 0 0>,
		<20000 26000 0 0>,
		<20000 26000 0 0>,
		<20000 26000 0 0>,
		<20000 26000 0 0>,
		<20000 26000 0 0>,
		<20000 26000 0 0>;

	qcom,allow-voltage-interpolation;
	qcom,allow-quotient-interpolation;
	qcom,cpr-scaled-open-loop-voltage-as-ceiling;
};

&apc1_cpr {
	compatible = "qcom,cprh-msmcobalt-v2-kbss-regulator";
};

&apc1_perfcl_vreg {
	regulator-max-microvolt = <31>;
	qcom,cpr-corners = <30>;
	qcom,cpr-corner-fmax-map = <8 12 20 30>;

	qcom,cpr-voltage-ceiling =
		<688000  688000  688000  688000  688000
		 688000  688000  688000  756000  756000
		 756000  756000  828000  828000  828000
		 828000  828000  828000  828000  828000
		 952000  952000  952000 1024000 1024000
		1024000 1024000 1024000 1024000 1024000>;

	qcom,cpr-voltage-floor =
		<568000  568000  568000  568000  568000
		 568000  568000  568000  568000  568000
		 568000  568000  632000  632000  632000
		 632000  632000  632000  632000  632000
		 712000  712000  712000  756000  756000
		 756000  756000  756000  756000  756000>;

	qcom,cpr-floor-to-ceiling-max-range =
		<55000  55000  55000  55000
		 55000  55000  55000  55000
		 55000  55000  55000  55000
		 65000  65000  65000  65000
		 65000  65000  65000  65000
		 65000  65000  65000  65000
		 65000  65000  65000  65000
		 65000  65000>;

	qcom,corner-frequencies =
		<300000000  345600000  422400000
		 499200000  576000000  652800000
		 729600000  806400000  902400000
		 979200000 1056000000 1132800000
		1190400000 1267200000 1344000000
		1420800000 1497600000 1574400000
		1651200000 1728000000 1804800000
		1881600000 1958400000 2035200000
		2112000000 2188800000 2265600000
		2342400000 2419200000 2496000000>;

	qcom,cpr-ro-scaling-factor =
		<4001 4019 3747 3758 3564 3480 2336
		 2247 3442 3147 2136 4156 4028 3030
		 3727 3190>,
		<4001 4019 3747 3758 3564 3480 2336
		 2247 3442 3147 2136 4156 4028 3030
		 3727 3198>,
		<3704 3601 3465 3567 3356 3473 2686
		 2773 3049 2932 2235 3816 3800 3097
		 2966 2808>,
		<2974 3092 3288 3329 2905 3096 3119
		 3225 2865 3140 2892 3592 3408 3576
		 1559 1392>;

	qcom,cpr-open-loop-voltage-fuse-adjustment =
		<8000 0 0 52000>,
		<8000 0 0 52000>,
		<8000 0 0 52000>,
		<8000 0 0 52000>,
		<8000 0 0 52000>,
		<8000 0 0 52000>,
		<8000 0 0 52000>,
		<8000 0 0 52000>;

	qcom,cpr-closed-loop-voltage-fuse-adjustment =
		<0 0 0 50000>,
		<0 0 0 50000>,
		<0 0 0 50000>,
		<0 0 0 50000>,
		<0 0 0 50000>,
		<0 0 0 50000>,
		<0 0 0 50000>,
		<0 0 0 50000>;

	qcom,allow-voltage-interpolation;
	qcom,allow-quotient-interpolation;
	qcom,cpr-scaled-open-loop-voltage-as-ceiling;
};
